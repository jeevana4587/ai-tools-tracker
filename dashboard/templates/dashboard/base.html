<!DOCTYPE html>
<html lang="{{ user_language }}">
<head>
    <meta charset="UTF-8">
    <title>AI Tools Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById("sidebar");
            const content = document.getElementById("main-content");

            sidebar.classList.toggle("-translate-x-full");
            content.classList.toggle("ml-64");
        }
    </script>
</head>
<body class="{% if user_theme == 'dark' %}bg-gray-900 text-white{% else %}bg-gray-100 text-black{% endif %}">

    <div id="sidebar" class="fixed top-0 left-0 w-64 h-full {% if user_theme == 'dark' %}bg-gray-800 text-white{% else %}bg-white text-black{% endif %} shadow transform transition-transform duration-300 z-30">
        <div class="p-4 text-lg font-bold border-b border-gray-300 {% if user_theme == 'dark' %}border-gray-700{% endif %}">AI Tools Tracker</div>
        <nav class="p-4 space-y-4">
            <a href="{% url 'dashboard:categories' %}" class="block hover:text-blue-400">📂 Categories</a>
            <a href="{% url 'reviews:dashboard' %}" class="block hover:text-blue-400">⭐ Reviews</a>
            <a href="{% url 'favourites:list' %}" class="block hover:text-blue-400">💖 Favourites</a>
            <a href="{% url 'analytics:dashboard' %}" class="block hover:text-blue-400">📊 Analytics</a>
            <a href="{% url 'history:list' %}" class="block hover:text-blue-400">📜 My History</a>
            <a href="{% url 'feedback:submit_feedback' %}" class="block hover:text-blue-400">📬 Feedback</a>
            <a href="{% url 'dashboard:profile' %}" class="block hover:text-blue-400">👤 Profile</a>
            <a href="{% url 'users:settings' %}" class="block hover:text-blue-400">⚙️ Settings</a>
        </nav>
    </div>

    <div id="main-content" class="ml-64 transition-all duration-300">
        <div class="{% if user_theme == 'dark' %}bg-gray-800 text-white{% else %}bg-white text-black{% endif %} shadow px-4 py-3 flex items-center">
            <button onclick="toggleSidebar()" class="text-xl mr-4">☰</button>
            <h1 class="text-xl font-bold">Dashboard</h1>
        </div>
        <main class="p-6">
            {% block content %}
            {% endblock %}
        </main>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>
